# 생성자에 매개변수가 많다면 빌더패턴을 사용하기



정적 팩터리로 객체를 만드는 방법과, 생성자로 객체를 만드는 방법에는 똑같은 제약이 있습니다. 선택적 매개변수가 많을 때 적절히 대응하기 어렵다는 점 입니다.



## 문제점

**점층적 생성자 패턴**

```java
public class NutritionFacts {
	private final int servingSize;  // 필수
  private final int servings;			// 필수
  
  private final int caloreis; 		// 선택
  private final int fat;					// 선택
  private final int carbohydrate; // 선택
  
  public NutritionFacts(int servingSize, int servings) {
    this(servingSize, servings, 0);
  }
  public NutritionFacts(int servingSize, int servings, int calories) {
    this(servingSize, servings, caloreis, 0);
  }
  public NutritionFacts(int servingSize, int servings, int calories ,int fat) {
    this(servingSize, servings, calories, fat, 0);
  }
  public NutritionFacts(int servingSize, int servings, int calories ,int fat ,int carbohydrate) {
    this.servingSzie 	= servingSize;
    this.servings 		= servings; 
    this.calories 		= calories;
    this.fat 					= fat;
		this.carbohydrate = carbohydrate;
  }
 }
```

NutritionFacts의 클래스를 생성할 때 필수 값은 servingSize와 servings 입니다. 나머지 필드는 선택적 필드이며, 객체를 만들 때 원하는 매개변수를 모두포함한 생성자 중 가장 짧은 것을 골라 호출하면 됩니다.

```java
NutritionFacts cocaCola = new NutritionFacts(240, 8, 100, 0, 27);
```

그렇지만, 사용자가 설정하길 원치 않은 매개변수에도 값을 지정해줘야 합니다.(ex: 위에 코드에서 fat을 0으로 설정함).
또한 매개변수가 더 늘어나면 금세 걷잡을 수 없게 됩니다.



**자바빈즈 패턴(JavaBeans pattern)**

```java
public class NutritionFacts {
	private final int servingSize = -1;
  private final int servings 		= -1
  
  private final int caloreis 		= 0
  private final int fat 				= 0
  private final int carbohydrate= 0
    
  public NutritionFacts() {}
  
  ...getter and setter
}
```

점증척 생성자 패턴의 단점들이 자바빈즈 패턴에서는 보이지 않습니다.

객체를 생성할 때 다음과 같이 생성합니다.

```java
NutritionFacts cocaCola = new NutritionFacts();
cocaCola.setSer
```

